[tools]
# Core runtimes
node = "lts"
bun = "latest"
python = "3.13"
# Adblock tooling
"npm:@adguard/aglint" = "latest"
"npm:@adguard/dead-domains-linter" = "latest"
"npm:@adguard/hostlist-compiler" = "latest"
# Formatting / Linting
minify = "latest"
shellcheck = "latest"
shfmt = "latest"
yamllint = "latest"
"npm:markdownlint-cli2" = "latest"
"npm:esbuild" = "latest"
"npm:eslint" = "latest"
"npm:prettier" = "latest"
# Fast alternatives
fd = "latest"
ripgrep = "latest"
sd = "latest"

[env]
NODE_ENV = "development"
MISE_NPM_BUN = "1"

[tasks. install]
description = "Install all dependencies"
run = "mise install && bun install"

[tasks.build]
description = "Build all lists"
run = "./build-lists.sh"
depends = ["install"]

[tasks."build:all"]
description = "Build everything"
run = "./Scripts/build-all.sh all"
depends = ["install"]

[tasks.lint]
description = "Run all linters"
run = "bun run lint"

[tasks.format]
description = "Format all files"
run = "bun run format"

[tasks. validate]
description = "Validate everything"
run = "bun run validate"

[tasks.outdated]
description = "Check for outdated tools"
run = "mise outdated"

[tasks.upgrade]
description = "Upgrade all tools"
run = "mise upgrade"
